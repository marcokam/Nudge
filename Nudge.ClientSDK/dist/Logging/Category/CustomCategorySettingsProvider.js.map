{"version":3,"file":"CustomCategorySettingsProvider.js","sourceRoot":"","sources":["../../../Logging/Category/CustomCategorySettingsProvider.ts"],"names":[],"mappings":"AACA,OAAO,OAAO,MAAM,gBAAgB,CAAC;AAKrC;IAMI,wCAAY,eAAiC,EAAE,QAAmC;QAAlF,iBAaC;QAED,QAAG,GAAG,UAAC,QAAgB,IAAK,OAAA,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAA9B,CAA8B,CAAC;QAEnD,gBAAW,GAAG,UAAC,GAAW;YAC9B,IAAM,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;YACxC,IAAI,QAAQ,EAAE;gBACV,OAAO,QAAQ,CAAC;aACnB;YACD,OAAO,KAAI,CAAC,eAAe,CAAC;QAChC,CAAC,CAAA;QArBG,qBAAqB;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,GAAG,EAA4B,CAAC;QACpD,IAAI,QAAQ,EAAE;YACV,QAAQ,CAAC,OAAO,CAAC,UAAA,CAAC;gBACd,KAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,CAAC,CAAA;YACrC,CAAC,CAAC,CAAC;SACN;QAED,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QAEvC,IAAI,CAAC,MAAM,GAAG,IAAI,OAAO,CAA2B,IAAI,CAAC,WAAW,CAAC,CAAA;IACzE,CAAC;IAWL,qCAAC;AAAD,CAAC,AA9BD,IA8BC","sourcesContent":["import { CategorySettingsProvider, CategorySettings } from \"../LoggingInterfaces\";\r\nimport LazyMap from \"~/Util/LazyMap\";\r\nimport KeyValuePair from \"~/Util/KeyValuePair\";\r\n\r\nexport type ExplicitCategorySettings = KeyValuePair<string, CategorySettings>[];\r\n\r\nexport default class CustomCategorySettingsProvider implements CategorySettingsProvider {\r\n    \r\n    private readonly explicit: Map<string, CategorySettings>;\r\n    private readonly defaultSettings: CategorySettings;\r\n    private readonly values: LazyMap<string, CategorySettings>;\r\n\r\n    constructor(defaultSettings: CategorySettings, explicit?: ExplicitCategorySettings) {\r\n\r\n        // Build explicit map\r\n        this.explicit = new Map<string, CategorySettings>();\r\n        if (explicit) {\r\n            explicit.forEach(c => {\r\n                this.explicit.set(c.key, c.value)\r\n            });\r\n        }\r\n\r\n        this.defaultSettings = defaultSettings;\r\n\r\n        this.values = new LazyMap<string, CategorySettings>(this.getInternal)\r\n    }\r\n    \r\n    get = (category: string) => this.values.getValue(category);\r\n\r\n    private getInternal = (key: string): CategorySettings => {\r\n        const explicit = this.explicit.get(key);\r\n        if (explicit) {\r\n            return explicit;\r\n        }\r\n        return this.defaultSettings;\r\n    }\r\n}"]}