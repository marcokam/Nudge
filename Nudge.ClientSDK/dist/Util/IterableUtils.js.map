{"version":3,"file":"IterableUtils.js","sourceRoot":"","sources":["../../Util/IterableUtils.ts"],"names":[],"mappings":"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","sourcesContent":["import { Comparer } from \"../Comparison/ComparisonInterfaces\";\r\nimport { reverseComparer, defaultComparerDescending, defaultComparerAscending } from \"../Comparison/Comparers\";\r\n\r\nconst alwaysPredicate = () => true;\r\n\r\nexport function *filter<T>(iterable: Iterable<T>, predicate: ((x: T) => boolean)): IterableIterator<T> {\r\n    for (let item of iterable) {\r\n        if (predicate(item)) yield item;\r\n    }\r\n}\r\n\r\nexport function any<T>(iterable: Iterable<T>, predicate?: ((x: T) => boolean)): boolean {\r\n    const actualPredicate = predicate || alwaysPredicate;\r\n    for (let item of iterable) {\r\n        if (actualPredicate(item)) return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function *map<T, U>(iterable: Iterable<T>, mapper: (item: T) => U): IterableIterator<U> {\r\n    for (let item of iterable) {\r\n        yield mapper(item);\r\n    }\r\n}\r\n\r\nexport function reduce<T, U>(iterable: Iterable<T>, aggregator: (acc: U, item: T) => U, start: U): U {\r\n    let acc = start;\r\n    for (let item of iterable) {\r\n        acc = aggregator(acc, item);\r\n    }\r\n    return acc;\r\n}\r\n\r\nexport function first<T>(iterable: Iterable<T>): T | null {\r\n    for (let item of iterable) {\r\n        return item;\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function *flatMap<T, U>(iterable: Iterable<T>, mapper: (item: T) => Iterable<U>): Iterable<U> {\r\n    for (let item of iterable) {\r\n        for (let item2 of mapper(item)) {\r\n            yield item2;\r\n        }\r\n    }\r\n}\r\n\r\nexport function *uniqBy<T, K>(iterable: Iterable<T>, keyFn: (item: T) => K): Iterable<T> {\r\n    const seen = new Set<K>();    \r\n    for (let item of iterable) {\r\n        const key = keyFn(item);\r\n        if (!seen.has(key)) {\r\n            seen.add(key);\r\n            yield item;\r\n        }\r\n    }\r\n}\r\n\r\nexport function *reverse<T>(iterable: Iterable<T>): Iterable<T> {\r\n    const asArray: T[] = Array.from(iterable);    \r\n    for (let i = asArray.length - 1; i >= 0; i--) {\r\n        yield asArray[i];\r\n    }\r\n}\r\n\r\nexport function *range(start: number, end: number, step: number = 1): Iterable<number> {\r\n    for (let i = start; i <= end; i += step) {\r\n        yield i;\r\n    }\r\n}\r\n\r\nexport function min<T>(iterable: Iterable<T>, comparer?: Comparer<T>): T | undefined {\r\n    const actualComparer = comparer || defaultComparerAscending;\r\n    let result: T | undefined = undefined;\r\n    for (let item of iterable) {\r\n        if (result === undefined || actualComparer(result, item) > 0) {\r\n            result = item;            \r\n        }\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function max<T>(iterable: Iterable<T>, comparer?: Comparer<T>): T | undefined {\r\n    const actualComparer = (comparer && reverseComparer(comparer)) || defaultComparerDescending;\r\n    return min(iterable, actualComparer);\r\n}\r\n\r\nexport function forEach<T>(iterable: Iterable<T>, callback: (item: T) => void): void {\r\n    for (let item of iterable) {\r\n        callback(item);\r\n    }\r\n}"]}