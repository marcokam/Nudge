{"version":3,"file":"withBearerToken.js","sourceRoot":"","sources":["../../../Api/RequestTransformers/withBearerToken.ts"],"names":[],"mappings":";;;;;;;;;;;AAEA,kFAAkF;AAClF,IAAM,eAAe,GAAG,cAA4B,OAAA,UAAC,OAAmB,EAAE,IAAuB;IAE7F,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;QACtB,OAAO,IAAI,CAAC,OAAO,CAAC,CAAA;KACvB;IAED,IAAM,WAAW,yBACV,OAAO,KACV,OAAO,wBACA,OAAO,CAAC,OAAO,KAClB,eAAe,EAAE,YAAU,OAAO,CAAC,WAAa,MAEvD,CAAC;IACF,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC;AAC7B,CAAC,EAdmD,CAcnD,CAAC;AACF,eAAe,eAAe,CAAC","sourcesContent":["import { ApiRequestMiddleware, ApiRequest, ApiRequestInvoker, ApiResponse } from \"../ApiInterfaces\";\r\n\r\n//TODO: When we add auto-refresh + retry, this should not accept the token manager\r\nconst withBearerToken = (): ApiRequestMiddleware => (request: ApiRequest, next: ApiRequestInvoker): Promise<ApiResponse> => {\r\n\r\n    if (!request.accessToken) {\r\n        return next(request)\r\n    }\r\n\r\n    const nextRequest = {\r\n        ...request,\r\n        headers: {\r\n            ...request.headers,\r\n            \"Authorization\": `Bearer ${request.accessToken}`\r\n        }\r\n    };\r\n    return next(nextRequest);\r\n};\r\nexport default withBearerToken;\r\n"]}