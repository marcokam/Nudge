{"version":3,"file":"Factories.js","sourceRoot":"","sources":["../../Api/Factories.ts"],"names":[],"mappings":"AAEA,OAAO,aAAa,MAAM,sBAAsB,CAAC;AAEjD,MAAM,CAAC,IAAM,aAAa,GACtB,UAAC,WAA8B,EAAE,UAAgC;IAC7D,OAAA,UAAC,OAAmB,IAAK,OAAA,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC,OAAO,CAAC,EAApE,CAAoE;AAA7F,CAA6F,CAAC;AAEtG,MAAM,CAAC,IAAM,qBAAqB,GAAG,UAAC,WAA8B,EAAE,WAAkD;IACpH,OAAA,aAAa,CAAC,YAAY,CAAC,WAAW,CAAC;SAClC,OAAO,EAAE;SACT,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,CAAC,EAAH,CAAG,CAAC;SAChB,MAAM,CACH,UAAC,GAAG,EAAE,CAAC,IAAK,OAAA,aAAa,CAAC,GAAG,EAAE,CAAyB,CAAC,EAA7C,CAA6C,EACzD,WAAW,CACd;AANL,CAMK,CAAC","sourcesContent":["import { ApiRequestInvoker, ApiRequest, ApiRequestMiddleware } from \"./ApiInterfaces\";\r\n\r\nimport NudgeIterable from \"~/Util/NudgeIterable\";\r\n\r\nexport const addMiddleware =\r\n    (baseInvoker: ApiRequestInvoker, middleware: ApiRequestMiddleware): ApiRequestInvoker =>    \r\n        (request: ApiRequest) => middleware ? middleware(request, baseInvoker) : baseInvoker(request);\r\n\r\nexport const addMultipleMiddleware = (baseInvoker: ApiRequestInvoker, middlewares: Iterable<ApiRequestMiddleware | null>) =>\r\n    NudgeIterable.fromIterable(middlewares)\r\n        .reverse()\r\n        .filter(m => !!m)        \r\n        .reduce(\r\n            (acc, m) => addMiddleware(acc, m as ApiRequestMiddleware),\r\n            baseInvoker\r\n        );\r\n"]}