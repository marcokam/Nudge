{"version":3,"file":"NudgeUris.js","sourceRoot":"","sources":["../../Uris/NudgeUris.ts"],"names":[],"mappings":"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","sourcesContent":["import { uriToId } from \"./uriUtils\";\r\n\r\n// types\r\ntype Uri = string;\r\ntype Path = string[];\r\n\r\n// helpers\r\nconst buildUri = (path: Path): Uri => `/${path.join(\"/\")}`;\r\nconst buildInstance = <I>(instances: (basePath: Path, instancePath: Path) => I) => (basePath: Path, uri?: Uri) => {\r\n    const instancePath = uri ? basePath.concat(uriToId(uri).getOrElse(\"\")).filter(Boolean) : basePath;\r\n    return {\r\n        _uri: buildUri(basePath),\r\n        _instanceUri: buildUri(instancePath),\r\n        _byUri: (instanceUri: string) => buildUri(basePath.concat(uriToId(instanceUri).getOrElse(\"\")).filter(Boolean)),\r\n        _byId: (instanceId: number) => buildUri(basePath.concat(String(instanceId)).filter(Boolean)),\r\n        ...instances(basePath, instancePath),\r\n    }\r\n}\r\n\r\n// instances\r\nconst listUris = buildInstance((basePath, instancePath) => ({\r\n    networks: {\r\n        collaborators: buildUri(instancePath.concat(\"networks\", \"collaborators\")),\r\n        members: buildUri(instancePath.concat(\"networks\", \"members\"))\r\n    },\r\n}));\r\nconst peopleUris = buildInstance((basePath, instancePath) => ({\r\n    count: buildUri(basePath.concat(\"count\")),\r\n    exports: buildUri(basePath.concat(\"exports\")),\r\n    tweets: buildUri(instancePath.concat(\"lists\")),\r\n    mentions: buildUri(instancePath.concat(\"mentions\")),\r\n    lastCommunications: buildUri(instancePath.concat(\"lastCommunications\")),\r\n    notes: buildUri(instancePath.concat(\"notes\")),\r\n    experience: buildUri(instancePath.concat(\"experience\")),\r\n    lists(listUri?: Uri) {\r\n        return listUris(basePath.concat(\"lists\"), listUri);\r\n    },\r\n}));\r\nconst companiesUris = buildInstance((basePath, instancePath) => ({\r\n    count: buildUri(basePath.concat(\"count\")),\r\n    networks: {\r\n        collaborators: buildUri(instancePath.concat(\"networks\", \"collaborators\")),\r\n        members: buildUri(instancePath.concat(\"networks\", \"members\"))\r\n    },\r\n    lists(listUri?: Uri) {\r\n        return listUris(basePath.concat(\"lists\"), listUri);\r\n    },\r\n}));\r\nconst currentUserUris = buildInstance((basePath) => ({\r\n    settings: buildUri(basePath.concat(\"settings\")),\r\n    access: buildUri(basePath.concat(\"access\")),\r\n    activities(week: number = 0) {\r\n        return buildUri(basePath.concat(\"activities\", String(week)));\r\n    },\r\n}));\r\nconst userUris = buildInstance((basePath) => ({\r\n    current() {\r\n        return currentUserUris(basePath.concat(\"current\"));\r\n    },\r\n    integrationDetails: buildUri(basePath.concat(\"integrationDetails\")),\r\n}));\r\nconst teamUris = buildInstance(() => ({}));\r\nconst userWeeklyActivityUris = buildInstance(() => ({}));\r\nconst userLeaderboardUris = buildInstance(() => ({}));\r\nconst userNetworkViewUris = buildInstance(() => ({}));\r\nconst userRelationshipViewUris = buildInstance(() => ({}));\r\nconst CompanyAccounts = buildInstance(basePath => ({\r\n    myadmin: buildUri(basePath.concat(\"myadmin\")),\r\n}));\r\nconst userFlaggedDatasUri = buildInstance(basePath => ({\r\n    currentUser: buildUri(basePath.concat(\"currentUser\")),\r\n}));\r\n\r\n\r\n// main\r\nexport const NudgeUris = ({\r\n    api: {\r\n        aggregateAnalysis: {\r\n            RunWeeklyActivity(userUri?: Uri) {\r\n                return userWeeklyActivityUris([\"api\", \"aggregateAnalysis\", \"RunWeeklyActivity\"], userUri);\r\n            },\r\n            RunUserLeaderboard(userUri?: Uri) {\r\n                return userLeaderboardUris([\"api\", \"aggregateAnalysis\", \"RunUserLeaderboard\"], userUri);\r\n            },\r\n            RunNetworkView(userUri?: Uri) {\r\n                return userNetworkViewUris([\"api\", \"aggregateAnalysis\", \"RunNetworkView\"], userUri);\r\n            },\r\n            RunRelationshipView(userUri?: Uri) {\r\n                return userRelationshipViewUris([\"api\", \"aggregateAnalysis\", \"RunRelationshipView\"], userUri);\r\n            },\r\n        },\r\n        v1: {\r\n            Tokens: {\r\n                external: buildUri([\"api\", \"v1\", \"Tokens\", \"external\"]),\r\n            },\r\n        }\r\n    },\r\n    v1: {\r\n        Features: {\r\n            Available: buildUri([\"v1\", \"Features\", \"Available\"]),\r\n        },\r\n    },\r\n    v2: {\r\n        userFlaggedDatas() {\r\n            return userFlaggedDatasUri([\"v2\", \"userFlaggedDatas\"]);\r\n        },\r\n        people(personUri?: Uri) {\r\n            return peopleUris([\"v2\", \"people\"], personUri);\r\n        },\r\n        companies(companyUri?: Uri) {\r\n            return companiesUris([\"v2\", \"companies\"], companyUri);\r\n        },\r\n        users(userUri?: Uri) {\r\n            return userUris([\"v2\", \"users\"], userUri)\r\n        },\r\n        teams(teamUri?: Uri) {\r\n            return teamUris([\"v2\", \"teams\"], teamUri);\r\n        },\r\n        CompanyAccounts(companyAccountUri?: Uri) {\r\n            return CompanyAccounts([\"v2\", \"CompanyAccounts\"], companyAccountUri);\r\n        },\r\n    }\r\n});\r\n"]}