{"version":3,"file":"ReportLeaderboard.js","sourceRoot":"","sources":["../../../../Components/Reports/Leaderboard/ReportLeaderboard.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";        // eslint-disable-line @typescript-eslint/no-unused-vars  \r\n\r\nimport { IUser } from \"~/Data/NudgeInterfaces\";\r\nimport { Leaderboard } from \"~/Data/Report/ReportInterfaces\";\r\n                         \r\nimport ProfileImage from \"~/Components/UI/Image/ProfileImage\";      \r\nimport NudgeLink from \"~/Components/UI/Link/NudgeLink\";                       \r\nimport registry from \"~/Util/registry\";\r\nimport { id } from \"~/Util/fp/function\";\r\n\r\ninterface ProfileLinkProps {\r\n    to: string;\r\n}\r\ninterface LeaderboardRowProps {\r\n    rank: number;\r\n    user: Partial<IUser>;\r\n    highlightUserId: string;\r\n    memberImageSize: number;\r\n    generateLink?: (userId: number) => string;\r\n}\r\ninterface ReportLeaderboardProps {\r\n    userUri: string;\r\n    leaderboardReport: Partial<Leaderboard> & { apiState: string };\r\n}\r\n\r\nexport const LeaderboardRow: React.FunctionComponent<LeaderboardRowProps> = ({\r\n    rank = 0,\r\n    user,\r\n    highlightUserId = 0,\r\n    memberImageSize = 40,\r\n    generateLink = (userId: number) => `/contactProfilePage?userId=${userId}`,\r\n}) => {\r\n    const { usrIdn = 0, usrDspNam = \"\", usrImgUrl = \"\", jobTtl = \"\", cmpNam = \"\", networkHealthScore } = user;\r\n    const { strong = 0, active = 0 } = networkHealthScore || {};\r\n    const [waUrl, setWaUrl] = useState();\r\n    const to = generateLink(usrIdn);\r\n\r\n    useEffect(() => {\r\n        let cancelled = false;\r\n        registry.webappBaseUrl.fork(id, waUrl => {\r\n            if (cancelled) return;\r\n            setWaUrl(waUrl);\r\n        });\r\n        return () => {\r\n            cancelled = true;\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <tr className={highlightUserId === usrIdn ? \"bg-nudge-light-blue\" : \"\"}>\r\n            <td className=\"ph1 pv2\" style={{ width: 28 }}>\r\n                <NudgeLink className=\"link color-inherit truncate\" to={to}>{rank}.</NudgeLink>\r\n            </td>\r\n            <td className=\"ph1 pv2\" style={{ width: 48 }}>\r\n                <NudgeLink className=\"link color-inherit truncate\" to={to}>\r\n                    <div className=\"flex\">\r\n                        <ProfileImage uid={usrDspNam} name={usrDspNam} src={usrImgUrl} size={memberImageSize} className=\"person br-100\" />\r\n                    </div>\r\n                </NudgeLink>\r\n            </td>\r\n            <td className=\"ph1 pv2 w4 truncate\">\r\n                <NudgeLink className=\"link color-inherit truncate\" to={to}>\r\n                    <div className=\"truncate fw6\">{usrDspNam}</div>\r\n                    <div className=\"f7 flex items-center\">\r\n                        {waUrl && <img src={`${waUrl}/static/images/icons-sprite04-mobile/t3_lists_nhs.png`} alt=\"nhs\" />}\r\n                        <span className=\"dib tr mr1\" style={{ width: 25 }}>\r\n                            {strong}\r\n                        </span>\r\n                        |<span className=\"dib ml1 w3 tl\">{active}</span>\r\n                    </div>\r\n                </NudgeLink>\r\n            </td>\r\n            <td className=\"ph1 pv2 truncate\">\r\n                <NudgeLink className=\"link color-inherit truncate\" to={to}>\r\n                    <div className=\"truncate\">{jobTtl}</div>\r\n                    <div className=\"f7 truncate\">{cmpNam}</div>\r\n                </NudgeLink>\r\n            </td>\r\n        </tr>\r\n    );\r\n}\r\n"]}